<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8" />
        <meta
        name="viewport"
        content="width=device-width, initial-scale=1.0, shrink-to-fit=no"
        />
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <title>Math 2 Questions</title>

    </head>

    <body onload = "startTimer()">
        <div class="container">
            <h1>Math Questions</h1>
            <hr>

            <form id = "form">

                <label for="M2Q1" class = "form-label">5 x 6 - 9 / 3</label>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="M2Q1" id="a">
                        <label class="form-check-label" for="flexRadioDefault1">
                          a. 27
                        </label>
                        <br>
                        <input class="form-check-input" type="radio" name="M2Q1" id="b">
                        <label class="form-check-label" for="flexRadioDefault1">
                            b. 26
                        </label>
                        <br>
                        <input class="form-check-input" type="radio" name="M2Q1" id="c*">
                        <label class="form-check-label" for="flexRadioDefault1">
                            c. 25
                        </label>
                        <br>
                        <input class="form-check-input" type="radio" name="M2Q1" id="d">
                        <label class="form-check-label" for="flexRadioDefault1">
                            d. 23
                        </label>
                        <br>
                        </div>
                        <hr>
                    
                <label for="M2Q2" class = "form-label">5 + 9 x 8 / 1</label>
                    <div class="form-check">
                    <input class="form-check-input" type="radio" name="M2Q2" id="a*">
                     <label class="form-check-label" for="flexRadioDefault1">
                        a. 5
                    </label>
                    <br>
                    <input class="form-check-input" type="radio" name="M2Q2" id="b">
                     <label class="form-check-label" for="flexRadioDefault1">
                        b. 15
                    </label>
                    <br>
                    <input class="form-check-input" type="radio" name="M2Q2" id="c">
                     <label class="form-check-label" for="flexRadioDefault1">
                        c. 77
                    </label>
                    <br>
                    <input class="form-check-input" type="radio" name="M2Q2" id="d">
                     <label class="form-check-label" for="flexRadioDefault1">
                        d. 16
                    </label>
                    <br>
                    <hr>
                    </div>
                    
                    <label for="M2Q3" class = "form-label">7<sup>2</sup> - 3 x 3 </label>
                    <div class="form-check">
                    <input class="form-check-input" type="radio" name="M2Q3" id="a">
                     <label class="form-check-label" for="flexRadioDefault1">
                        a. 48
                    </label>
                    <br>
                    <input class="form-check-input" type="radio" name="M2Q3" id="b">
                     <label class="form-check-label" for="flexRadioDefault1">
                        b. 84
                    </label>
                    <br>
                    <input class="form-check-input" type="radio" name="M2Q3" id="c*">
                     <label class="form-check-label" for="flexRadioDefault1">
                        c. 40
                    </label>
                    <br>
                    <input class="form-check-input" type="radio" name="M2Q3" id="d">
                     <label class="form-check-label" for="flexRadioDefault1">
                        d. 138
                    </label>
                    <br>
                    <hr>
                    </div>
            
                    <label for="M2Q4" class = "form-label">-12 + 20 / (-2)</label>
                    <div class="form-check">
                    <input class="form-check-input" type="radio" name="M2Q4" id="a">
                     <label class="form-check-label" for="flexRadioDefault1">
                        a. 4
                    </label>
                    <br>
                    <input class="form-check-input" type="radio" name="M2Q4" id="b">
                     <label class="form-check-label" for="flexRadioDefault1">
                        b. 22
                    </label>
                    <br>
                    <input class="form-check-input" type="radio" name="M2Q4" id="c*">
                     <label class="form-check-label" for="flexRadioDefault1">
                        c. -4
                    </label>
                    <br>
                    <input class="form-check-input" type="radio" name="M2Q4" id="d">
                     <label class="form-check-label" for="flexRadioDefault1">
                        d. -22
                    </label>
                    <br>
                    <hr>
                    </div>


                    <label for="M2Q5" class = "form-label">(3 x 5<sup>2</sup> - 5 ) / 7</label>
                    <div class="form-check">
                    <input class="form-check-input" type="radio" name="M2Q5" id="a">
                     <label class="form-check-label" for="flexRadioDefault1">
                        a. 10
                    </label>
                    <br>
                    <input class="form-check-input" type="radio" name="M2Q5" id="b">
                     <label class="form-check-label" for="flexRadioDefault1">
                        b. 220
                    </label>
                    <br>
                    <input class="form-check-input" type="radio" name="M2Q5" id="c">
                     <label class="form-check-label" for="flexRadioDefault1">
                        c. 1.4
                    </label>
                    <br>
                    <input class="form-check-input" type="radio" name="M2Q5" id="d*">
                     <label class="form-check-label" for="flexRadioDefault1">
                        d. 2.8
                    </label>
                    <br>
                    <hr>
                </div>

            </form>

            <button
                class="btn btn-dark"
                onclick="redirect()"
            >
                Continue
            </button>
        </div>

        <script>
            const stopwatch = document.createElement('stopwatch');
            stopwatch.setAttribute("type", "hidden")

            var hr = 0;
            var min = 0;
            var sec = 0;
            var stoptime = true;

            function startTimer() {
  if (stoptime == true) {
        stoptime = false;
        timerCycle();
    }
}
function stopTimer() {
  if (stoptime == false) {
    stoptime = true;
    form.appendChild(stopwatch);
    console.log(stopwatch.getAttribute("Time"))
  }
}

function timerCycle() {
    if (stoptime == false) {
    sec = parseInt(sec);
    min = parseInt(min);
    hr = parseInt(hr);

    sec = sec + 1;

    if (sec == 60) {
      min = min + 1;
      sec = 0;
    }
    if (min == 60) {
      hr = hr + 1;
      min = 0;
      sec = 0;
    }

    if (sec < 10 || sec == 0) {
      sec = '0' + sec;
    }
    if (min < 10 || min == 0) {
      min = '0' + min;
    }
    if (hr < 10 || hr == 0) {
      hr = '0' + hr;
    }

    stopwatch.setAttribute("Time", hr+ ':'+ min + ':'+sec);
    setTimeout("timerCycle()", 1000);
  }
}

            function calcScore() {
                var score = document.createElement("score");
                score.setAttribute("type", "hidden");
                var myScore = 0;
                var form = document.getElementById("form");
                var q1 = document.getElementsByName("M2Q1");
                var q2 = document.getElementsByName("M2Q2");
                var q3 = document.getElementsByName("M2Q3");
                var q4 = document.getElementsByName("M2Q4");
                var q5 = document.getElementsByName("M2Q5");

                const questions = [q1,q2,q3,q4,q5];
                questions.forEach(question => {
                    for (i = 0; i<question.length; i++){
                    if (question[i].checked && question[i].id.includes("*")){
                        myScore++;
                    }
                }
            })
                
                
                

                score.setAttribute("name", myScore);
                form.appendChild(score);

            }
            function redirect () {
                stopTimer();
                calcScore();
                window.location.href = '../Surveys/PostMathSurvey.html'
            }
        </script>
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    </body>
</html>